<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Mikhail R. Gadelha</title>

	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta name="description" content="Mikhail R. Gadelha - Software Engineer at Igalia, PhD in Computer Science. LLVM and WebKit committer specializing in program verification, compilers, and static analysis.">
	<meta name="keywords" content="Mikhail Gadelha, Software Engineer, Igalia, LLVM, WebKit, Program Verification, Compilers, Static Analysis, Model Checking, ESBMC, CBMC, Formal Methods, C++, PhD Computer Science">
	<meta name="author" content="Mikhail R. Gadelha">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- Performance and Preloading Hints -->
	<link rel="preload" href="./files/style.css" as="style">
	<link rel="preload" href="./files/overrides.css" as="style">
	<link rel="preload" href="./files/bootstrap.min.css" as="style">
	<!-- Removed preload of JPG headshot; using responsive AVIF/WebP -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Figtree:wght@300;400;600&display=swap" rel="stylesheet">
	<meta http-equiv="Cache-Control" content="public, max-age=31536000">
	<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
	<meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)">

	<!-- Critical CSS: navbar + above-the-fold -->
	<style>
		:root { --bg-primary:#ffffff; --text-primary:#333333; --navbar-bg:#ffffff; --navbar-text:#333333; }
		@media (prefers-color-scheme: dark) {
			:root { --bg-primary:#000000; --text-primary:#ffffff; --navbar-bg:#000000; --navbar-text:#ffffff; }
		}
		html, body { background: var(--bg-primary); color: var(--text-primary); }
		.custom-navbar { background: var(--navbar-bg); color: var(--navbar-text); border:0; margin:0; padding-top:10px; }
		.custom-navbar .navbar-brand { color: var(--navbar-text); font-size:20px; }
		.custom-navbar .nav li a { color: var(--navbar-text); }
		.top-nav-collapse { box-shadow: 0 2px 10px rgba(0,0,0,.08); }
		@media (max-width:768px) { .custom-navbar { box-shadow:0 4px 16px rgba(0,0,0,.12); } }
		#about { padding-top: 35px; }
	</style>

	<link rel="stylesheet" href="./files/bootstrap.min.css">
	<link rel="stylesheet" href="./files/animate.css">
	<!-- Removed Magnific Popup (unused) -->
	<!-- Removed Font Awesome (unused) -->

	<!-- main css -->
	<link rel="stylesheet" href="./files/style.css">
	<link rel="stylesheet" href="./files/overrides.css">
	<link rel="stylesheet" href="./files/github-calendar-responsive.css" />

	<!-- Open Graph & Canonical -->
	<link rel="canonical" href="https://mikhailramalho.github.io/">
	<meta property="og:title" content="Mikhail R. Gadelha">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://mikhailramalho.github.io/">
	<meta property="og:image" content="https://mikhailramalho.github.io/files/mikhail.jpg">

	<!-- Structured Data for SEO -->
	<script type="application/ld+json">
	{
		"@context": "https://schema.org",
		"@type": "Person",
		"name": "Mikhail R. Gadelha",
		"jobTitle": "Software Engineer",
		"worksFor": {
			"@type": "Organization",
			"name": "Igalia",
			"url": "https://igalia.com"
		},
		"alumniOf": {
			"@type": "EducationalOrganization",
			"name": "University of Southampton"
		},
		"email": "mikhail@igalia.com",
		"url": "https://mikhailramalho.github.io",
		"sameAs": [
			"https://github.com/mikhailramalho",
			"https://www.linkedin.com/in/mikhail-r-gadelha/",
			"https://dblp.org/pid/127/1726.html",
			"https://scholar.google.com/citations?user=sQiAp1AAAAAJ&hl=en"
		],
		"knowsAbout": [
			"Program Verification",
			"Compilers",
			"Static Analysis",
			"Model Checking",
			"LLVM",
			"WebKit",
			"Formal Methods",
			"C++",
			"Software Engineering"
		],
		"hasCredential": {
			"@type": "EducationalOccupationalCredential",
			"name": "PhD in Computer Science"
		}
	}
	</script>

	<!-- Early theme initialization - no localStorage, just system preference -->
	<script>
		// No early initialization needed since we're using CSS media queries only
	</script>
</head>

<body data-spy="scroll" data-target=".navbar-collapse" data-offset="50">

	<!-- SKIP TO MAIN CONTENT LINK -->
	<a href="#about" class="skip-link" style="position: absolute; top: -40px; left: 6px; background: var(--bg-primary); color: var(--text-primary); padding: 8px; text-decoration: none; z-index: 100000; border: 2px solid var(--border-color);" onkeydown="if(event.keyCode==13||event.keyCode==32){this.click();}" onfocus="this.style.top='6px';" onblur="this.style.top='-40px';">Skip to main content</a>

	<!-- PRE LOADER -->
	<div class="preloader">
		<div class="spinner">
			<span class="spinner-rotate"></span>
		</div>
	</div>

	<!-- NAVIGATION SECTION -->
	<nav class="navbar custom-navbar navbar-fixed-top" role="navigation" aria-label="Main navigation">
		<div class="container">

			<!-- NAVBAR HEADER -->
			<div class="navbar-header">
				<!-- LOGO TEXT HERE -->
				<a href="index.html" class="navbar-brand">Mikhail R. Gadelha</a>

				<!-- THEME TOGGLE FOR MOBILE -->
				<button id="theme-toggle-mobile" type="button" style="background: none; border: none; color: inherit; padding: 10px 15px; font-size: 16px; cursor: pointer; float: right; margin-top: 5px; line-height: 20px;" title="Toggle theme">🌓</button>
			</div>

			<!-- NAVIGATION LINKS -->
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav navbar-right">
					<li><a class="smoothScroll" href="#about">About</a></li>
					<!-- <li><a class="smoothScroll" href="#skills">Skills</a></li> -->
					<li><a class="smoothScroll" href="#publications">Publications</a></li>
					<!-- <li><a class="smoothScroll" href="#service">Service</a></li> -->
					<li><a class="smoothScroll" href="#tools">Open Source Contributions</a></li>
					<li><button id="theme-toggle" type="button" style="background: none; border: none; color: inherit; padding: 0; margin: 15px; font-size: 12px; cursor: pointer; letter-spacing: 1px;" title="Toggle theme">🌓 Theme</button></li>
				</ul>
			</div>
		</div>
	</nav>

	<!-- MAIN CONTENT -->
	<main>

	<!-- ABOUT SECTION -->
	<section id="about" aria-labelledby="about-heading">
		<div class="container">
			<div class="row">
				<div class="col-md-4 col-sm-12" style="padding-top: 50px;">
					<p>
						<picture>
							<source type="image/avif" srcset="files/mikhail-480.avif 480w, files/mikhail-960.avif 960w" sizes="(max-width: 768px) 60vw, 20vw">
							<source type="image/webp" srcset="files/mikhail-480.webp 480w, files/mikhail-960.webp 960w" sizes="(max-width: 768px) 60vw, 20vw">
						<img src="files/mikhail.jpg" class="img-responsive" alt="Professional headshot of Mikhail R. Gadelha" decoding="async" fetchpriority="high"
							style="margin-left: auto; margin-right: auto; display: block; width: 60%">
						</picture>
					</p>

					<p align="center" style="margin-top: 25px;" role="list" aria-label="Contact and social media links">
					<a href="mailto:mikhail@igalia.com" target="_blank" rel="noopener noreferrer" aria-label="Send email to mikhail@igalia.com"><img alt="Email contact" src="files/mail.jpg"
								width="30" height="30"></a>
						<a href="https://github.com/mikhailramalho" target="_blank" rel="noopener noreferrer" aria-label="Visit Mikhail's GitHub profile (opens in new tab)"><img alt="GitHub profile"
								src="files/github.png" width="30" height="30"></a>
						<a href="https://www.linkedin.com/in/mikhail-r-gadelha/" target="_blank" rel="noopener noreferrer" aria-label="Visit Mikhail's LinkedIn profile (opens in new tab)"><img alt="LinkedIn profile"
								src="files/linkedin.png" width="30" height="30"></a>
						<a href="https://dblp.org/pid/127/1726.html" target="_blank" rel="noopener noreferrer" aria-label="Visit Mikhail's DBLP academic profile (opens in new tab)"><img alt="DBLP academic profile"
								src="files/dblp.png" width="30" height="30"></a>
						<a href="https://scholar.google.com/citations?user=sQiAp1AAAAAJ&hl=en" target="_blank" rel="noopener noreferrer" aria-label="Visit Mikhail's Google Scholar profile (opens in new tab)"><img
								alt="Google Scholar profile" src="files/scholar.png" width="30" height="30"></a>
					</p>

					<p style="margin-top: 25px"></p>
					<p>Software Engineer at <a href="https://igalia.com" target="_blank" rel="noopener noreferrer">Igalia</a>. [<a href="./files/resume.pdf" target="_blank">Resume</a>]</p>

					<p>Phd in Computer Science <a href="https://eprints.soton.ac.uk/433530/">[Thesis]</a>.</p>

					<div style="margin-top: 25px">
						<h4>Projects</h4>
					<ul>
						<li><a href="https://github.com/esbmc/esbmc" target="_blank" rel="noopener noreferrer">ESBMC</a></li>
						<li><a href="https://github.com/mikhailramalho/camada" target="_blank" rel="noopener noreferrer">Camada</a></li>
						<li><a href="https://github.com/mikhailramalho/gnome-shell-extension-currency-tracker"
								target="_blank" rel="noopener noreferrer">Currency tracker (Gnome shell extension)</a></li>
					</ul>
					</div>
				</div>

				<div class="col-md-8 col-sm-12">
					<div class="about-thumb">
						<div class="section-title" style="text-align: justify;">
							<h3 id="about-heading" style="margin-top: 25px;"><b>About me</b></h3>

							<p>I'm a Software Engineer at Igalia with a PhD in Computer Science and over 10 years of experience building systems. My work focuses on program verification, compilers, and static analysis. I'm a committer to LLVM and WebKit, and actively contribute to projects like ESBMC, CBMC, and Z3.</p>

							<p>Recently, I've been focusing on RISC-V architecture optimization and serving as the maintainer of LLVM's libc RISC-V port.</p>

							<p>I still write research papers in my free time and maintain an active interest in formal methods. My goal is to make robust verification tools and compiler optimizations accessible to developers building reliable, high-performance software.</p>

							<h3 style="margin-top: 25px;"><b>GitHub Contributions</b></h3>

							<!-- GitHub Activity Calendar -->
							<script src="./files/github-calendar.js" defer></script>
							<link rel="stylesheet" href="./files/github-calendar.css" />

							<!-- GitHub contributions calendar container -->
							<div class="calendar">
								Loading the contribution calendar...
							</div>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- SKILLS SECTION -->
	<!-- <section id="skills" aria-labelledby="skills-heading">
		<div class="container">
			<div class="row">
				<div class="col-md-12 col-sm-12">
					<div class="section-title" style="margin-top: 30px; text-align: justify;">
						<h3 id="skills-heading"><b>Skills & Expertise</b></h3>

						<div class="row" style="margin-top: 25px;">
							<div class="col-md-6 col-sm-12">
								<h4><b>Programming Languages</b></h4>
								<ul>
									<li><strong>C++</strong> - Expert level, LLVM/WebKit contributions</li>
									<li><strong>C</strong> - Expert level, systems programming</li>
									<li><strong>Python</strong> - Scripting, automation, testing</li>
									<li><strong>Assembly</strong> - x86, ARM, RISC-V architectures</li>
								</ul>

								<h4 style="margin-top: 25px;"><b>Tools & Frameworks</b></h4>
								<ul>
									<li><strong>LLVM Toolchain</strong> - Clang, MLIR, LLDB, LLD</li>
									<li><strong>WebKit</strong> - Browser engine, JavaScript internals</li>
									<li><strong>Build Systems</strong> - CMake, Make, Ninja</li>
									<li><strong>Debugging Tools</strong> - GDB, Valgrind, Sanitizers</li>
									<li><strong>Version Control</strong> - Git, advanced workflows</li>
								</ul>
							</div>

							<div class="col-md-6 col-sm-12">
								<h4><b>Areas of Expertise</b></h4>
								<ul>
									<li><strong>Compiler Design</strong> - Frontend, optimization, code generation</li>
									<li><strong>Static Analysis</strong> - Dataflow analysis, symbolic execution</li>
									<li><strong>Program Verification</strong> - Formal methods, model checking</li>
									<li><strong>Performance Optimization</strong> - Profiling, bottleneck analysis</li>
									<li><strong>Systems Programming</strong> - Low-level optimization, concurrency</li>
								</ul>

								<h4 style="margin-top: 25px;"><b>Research & Development</b></h4>
								<ul>
									<li><strong>Formal Logic</strong> - Discrete mathematics, theorem proving</li>
									<li><strong>Algorithm Design</strong> - Complexity analysis, optimization</li>
									<li><strong>Open Source Contribution</strong> - Large-scale project collaboration</li>
									<li><strong>Technical Leadership</strong> - Code review, mentoring</li>
									<li><strong>Research Publication</strong> - Academic writing, peer review</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section> -->

	<!-- PUBLICATIONS SECTION -->
	<section id="publications" aria-labelledby="publications-heading">
		<div class="container">
			<div class="row">
				<div class="col-md-12 col-sm-12">
					<div class="section-title" style="margin-top: 30px; text-align: justify;">
						<h3 id="publications-heading"><b>Publications</b></h3>

						<div style="margin-top: 25px;">
							<h4>Talks, Technical Writing & Industry Impact</h4>
							<div style="margin-bottom: 20px;">
								<p><strong><a href="https://blogs.igalia.com/compilers/2025/05/05/boosting-risc-v-application-performance-an-8-month-llvm-journey/"
									target="_blank" rel="noopener noreferrer">Boosting RISC-V Application Performance: An 8-Month LLVM Journey</a></strong><br>
								<em>Igalia Compilers Blog, May 2025</em><br>
								<small>Chronicles an 8-month optimization effort that delivered significant performance improvements for RISC-V applications in LLVM. It details enhanced code generation strategies, libc optimizations, and maintainership of the RISC-V libc port. Work resulted in measurable performance gains across multiple benchmark suites.</small></p>
							</div>
							<div style="margin-bottom: 20px;">
								<p><strong><a href="https://www.youtube.com/watch?v=GytmaH64wFo"
									target="_blank" rel="noopener noreferrer">RISC-V Support into LLVM's libc: Challenges and Solutions for 32-bit and 64-bit</a></strong>
									[<a href="./files/slides.pdf" target="_blank" rel="noopener noreferrer">Slides</a>]<br>
								<em>LLVM Developers' Meeting, October 2024</em><br>
								<small>Technical presentation detailing the implementation of RISC-V support in LLVM's libc project. Addresses unique challenges in supporting both 32-bit and 64-bit RISC-V architectures, including ABI compatibility, syscall interfaces, and performance optimizations. As the RISC-V libc maintainer, presents architectural decisions and solutions for bringing full C library support to RISC-V platforms.</small></p>
							</div>
						</div>

						<div style="margin-top: 25px;">
							<h4>Recent Publications</h4>
							<div style="margin-bottom: 20px;">
								<p><strong><a href="https://link.springer.com/chapter/10.1007/978-3-031-90660-2_16"
									target="_blank" rel="noopener noreferrer">ESBMC v7.7: Efficient Concurrent Software Verification with Scheduling, Incremental SMT and Partial Order Reduction</a></strong> [<a href="./files/2025-svcomp.pdf" target="_blank" rel="noopener noreferrer">PDF</a>]<br>
								<em>Tools and Algorithms for the Construction and Analysis of Systems (TACAS), 2025</em><br>
								<small>Improves verification of concurrent C programs through dynamic thread scheduling, incremental SMT solving, and enhanced partial order reduction algorithms. Significantly reduces exploration of redundant states and enables faster bug detection in multi-threaded applications.</small></p>
							</div>
							<div style="margin-bottom: 20px;">
								<p><strong><a href="https://www.sciencedirect.com/science/article/pii/S0167642325000759"
									target="_blank" rel="noopener noreferrer">ESBMC v7.6: Enhanced model checking of C++ programs with clang AST</a></strong> [<a href="./files/2025-journal.pdf" target="_blank" rel="noopener noreferrer">PDF</a>]<br>
								<em>Science of Computer Programming, 2025</em><br>
								<small>Introduces advanced C++ support through Clang AST integration, enabling comprehensive verification of modern C++ features including templates, lambda expressions, and STL containers. Demonstrates significant improvements in verification accuracy and coverage.</small></p>
							</div>
							<div style="margin-bottom: 20px;">
								<p><strong><a href="https://link.springer.com/chapter/10.1007/978-3-031-57256-2_24"
									target="_blank" rel="noopener noreferrer">ESBMC v7.4: Harnessing the Power of Intervals</a></strong> [<a href="./files/2024-svcomp.pdf" target="_blank" rel="noopener noreferrer">PDF</a>]<br>
								<em>Tools and Algorithms for the Construction and Analysis of Systems (TACAS), 2024</em><br>
								<small>Implements interval analysis techniques to improve precision in numeric computations and reduce false positives in verification. Enhances handling of floating-point arithmetic and improves scalability for complex numerical programs.</small></p>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- TOOLS SECTION -->
	<section id="tools" aria-labelledby="tools-heading">
		<div class="container">
			<div class="row">
				<div class="col-md-12 col-sm-12">
					<!-- SECTION TITLE -->
					<div class="section-title" style="margin-top: 30px; text-align: justify;">
						<h3 id="tools-heading"><b>Open Source Contributions</b></h3>
						<a href="https://clang.llvm.org/" target="_blank" rel="noopener noreferrer">
							<figure style="padding-top: 15px; padding-bottom: 15px">
								<picture>
									<source type="image/avif" srcset="files/clang-logo.avif">
									<source type="image/webp" srcset="files/clang-logo.webp">
									<img style="max-height: 60px; padding-bottom: 15px" src="files/clang-logo.png" loading="lazy" decoding="async"
										alt="LLVM Clang compiler logo" />
								</picture>
								<figcaption><b>LLVM/Clang</b> - As a committer to the LLVM project, I've contributed to Clang compiler optimizations, the Clang Static Analyzer, and various tooling enhancements. Currently serving as maintainer of the RISC-V libc port, my recent focus has been on RISC-V code generation improvements and performance optimizations that have delivered significant gains for RISC-V applications.
								</figcaption>
							</figure>
						</a>
						<a href="https://webkit.org" target="_blank" rel="noopener noreferrer">
							<figure style="padding-top: 15px; padding-bottom: 15px">
								<img style="max-height: 60px; padding-bottom: 15px" src="files/webkit-logo.png" loading="lazy" decoding="async"
									alt="WebKit browser engine logo" />
								<figcaption><b>WebKit</b> - As a committer, I've contributed bug fixes, performance improvements, and new features to this critical web browser engine. My work helped ensure the stability and performance of web browsing for millions of users across Safari and other WebKit-based applications.
								</figcaption>
							</figure>
						</a>
						<a href="https://esbmc.org" target="_blank" rel="noopener noreferrer">
							<figure style="padding-top: 15px; padding-bottom: 15px">
								<img style="max-height: 55px; padding-bottom: 15px" src="files/esbmc-logo.png" loading="lazy" decoding="async"
									alt="ESBMC bounded model checker logo" />
								<figcaption style="padding-top: 10px"><b>ESBMC</b> - As a core contributor and maintainer, I've led the development of several key features including interval analysis, incremental SMT solving, and enhanced C++ support through Clang AST integration. My work has significantly improved verification performance and expanded the tool's capabilities for concurrent software verification.</figcaption>
							</figure>
						</a>
						<a href="https://www.cprover.org/cbmc/" target="_blank" rel="noopener noreferrer">
							<figure style="padding-top: 15px; padding-bottom: 15px">
								<picture>
									<source type="image/avif" srcset="files/cbmc-logo.avif">
									<source type="image/webp" srcset="files/cbmc-logo.webp">
									<img style="max-height: 55px; padding-bottom: 15px" src="files/cbmc-logo.png" loading="lazy" decoding="async"
										alt="CBMC bounded model checker logo" />
								</picture>
								<figcaption style="padding-top: 10px"><b>CBMC</b> - Contributed bug fixes and enhancements to this widely-used bounded model checker. My contributions focus on improving verification accuracy and extending language support for modern C++ features.</figcaption>
							</figure>
						</a>
						<a href="https://ssvlab.github.io/dsverifier/" target="_blank" rel="noopener noreferrer">
							<figure style="padding-top: 15px; padding-bottom: 15px">
								<img style="max-height: 60px; padding-bottom: 15px" src="files/dsverifier-logo.png" loading="lazy" decoding="async"
									alt="DSVerifier digital systems verification tool logo" />
								<figcaption><b>DSVerifier</b> - Contributed to the development of this specialized verification tool for digital systems, helping to implement verification techniques for fixed-point arithmetic and finite word length effects in digital signal processing applications.
								</figcaption>
							</figure>
						</a>
						<a href="https://www.microsoft.com/en-us/research/project/z3-3/" target="_blank" rel="noopener noreferrer">
							<figure style="padding-top: 15px; padding-bottom: 15px">
								<img style="max-height: 60px; padding-bottom: 15px" src="files/z3-logo.jpeg" loading="lazy" decoding="async" alt="Z3 SMT solver logo" />
								<figcaption><b>Z3</b> - Contributed bug fixes and improvements to this industry-standard SMT solver, which serves as a critical backend for many verification tools including ESBMC and CBMC.
								</figcaption>
							</figure>
						</a>
					</div>
				</div>
			</div>
		</div>
	</section>

	</main>

	<!-- FOOTER SECTION -->
	<footer role="contentinfo" aria-label="Site footer">
		<div class="container">
			<div class="row">
				<div class="col-md-6 col-sm-6">
					<p class="copyright-text">Copyright © <span id="current-year">2022</span> - Mikhail R. Gadelha</p>
					<p> mikhail (at) igalia (dot) com </p>
				</div>
			</div>
		</div>
	</footer>

	<!-- SCRIPTS -->
	<!-- Removed jQuery and Bootstrap JS; using vanilla JS in custom.js -->
	<script src="./files/custom.js" defer></script>

	<!-- Initialize GitHub calendar after scripts are loaded -->
	<script>
		document.addEventListener('DOMContentLoaded', function() {
			if (window.GitHubCalendar) {
				GitHubCalendar(".calendar", "mikhailramalho", {
					responsive: true,
					tooltips: true,
					global_stats: false
				});
			}
		});
	</script>



	<!-- Theme Management Script -->
	<script>
		(function() {
			// Get current theme based on system preference or data-theme attribute
			function getCurrentTheme() {
				const dataTheme = document.documentElement.getAttribute('data-theme');
				if (dataTheme) return dataTheme;

				return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
			}

			// Update toggle button text based on current theme
			function updateToggleButton() {
				const toggleButton = document.getElementById('theme-toggle');
				const toggleButtonMobile = document.getElementById('theme-toggle-mobile');
				const currentTheme = getCurrentTheme();

				if (toggleButton) {
					if (currentTheme === 'dark') {
						toggleButton.innerHTML = '☀️ Light';
						toggleButton.title = 'Switch to light theme';
					} else {
						toggleButton.innerHTML = '🌙 Dark';
						toggleButton.title = 'Switch to dark theme';
					}
				}

				if (toggleButtonMobile) {
					if (currentTheme === 'dark') {
						toggleButtonMobile.innerHTML = '☀️';
						toggleButtonMobile.title = 'Switch to light theme';
					} else {
						toggleButtonMobile.innerHTML = '🌙';
						toggleButtonMobile.title = 'Switch to dark theme';
					}
				}
			}

			// Toggle theme temporarily (no localStorage)
			function toggleTheme() {
				const currentTheme = getCurrentTheme();
				const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

				// Just set the attribute, don't save to localStorage
				document.documentElement.setAttribute('data-theme', newTheme);
				updateToggleButton();
			}

			// Listen for system theme changes
			function watchSystemTheme() {
				const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');

				// Use the modern addEventListener method if available
				if (mediaQuery.addEventListener) {
					mediaQuery.addEventListener('change', function(e) {
						// Always respond to system changes since we don't save preferences
						document.documentElement.removeAttribute('data-theme');
						updateToggleButton();
					});
				} else if (mediaQuery.addListener) {
					// Fallback for older browsers
					mediaQuery.addListener(function(e) {
						document.documentElement.removeAttribute('data-theme');
						updateToggleButton();
					});
				}
			}

			// Set up everything after DOM loads
			document.addEventListener('DOMContentLoaded', function() {
				watchSystemTheme();
				updateToggleButton();

				// Update copyright year dynamically
				const currentYearElement = document.getElementById('current-year');
				if (currentYearElement) {
					currentYearElement.textContent = new Date().getFullYear();
				}

				// Add event listener to toggle buttons
				const toggleButton = document.getElementById('theme-toggle');
				const toggleButtonMobile = document.getElementById('theme-toggle-mobile');
				if (toggleButton) {
					toggleButton.addEventListener('click', toggleTheme);
				}
				if (toggleButtonMobile) {
					toggleButtonMobile.addEventListener('click', toggleTheme);
				}
			});
		})();
	</script>

</body>

</html>
